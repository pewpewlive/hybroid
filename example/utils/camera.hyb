env Utils as Level

use Fmath
use Pewpew

// Should be created only once 
class Camera {
  fixed x, y, z // Offset values

  // Camera shake
  fixed shakePower = 10f
  fixed shakeDecay = 0.5f

  new() {
    tick {
      Update()
    }
  }

  fn Update() {
    Shake()
  }

  fn Shake() {
    x = RandomFixed(-shakePower, shakePower)

    ConfigurePlayer(0, struct{
      camera_x_override = x
    })

    shakePower *= shakeDecay
  }
}